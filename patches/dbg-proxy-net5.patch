From 6a70e7a0018623afe156fce13e0b388f7c0d3b9e Mon Sep 17 00:00:00 2001
From: Jerome Laban <jerome.laban@nventive.com>
Date: Mon, 5 Apr 2021 01:49:52 +0000
Subject: [PATCH] feat: Restore net5.0 debugger build

---
 .../wasm/debugger/BrowserDebugHost/BrowserDebugHost.csproj     | 3 ++-
 .../wasm/debugger/BrowserDebugProxy/BrowserDebugProxy.csproj   | 3 ++-
 2 files changed, 4 insertions(+), 2 deletions(-)

diff --git a/src/mono/wasm/debugger/BrowserDebugHost/BrowserDebugHost.csproj b/src/mono/wasm/debugger/BrowserDebugHost/BrowserDebugHost.csproj
index 66d0b287f76..2284653c8c2 100644
--- a/src/mono/wasm/debugger/BrowserDebugHost/BrowserDebugHost.csproj
+++ b/src/mono/wasm/debugger/BrowserDebugHost/BrowserDebugHost.csproj
@@ -1,9 +1,10 @@
 <Project Sdk="Microsoft.NET.Sdk.Web">
 
   <PropertyGroup>
-    <TargetFramework>$(AspNetCoreAppCurrent)</TargetFramework>
+    <TargetFrameworks>$(AspNetCoreAppCurrent);net5.0</TargetFrameworks>
     <CopyLocalLockFileAssemblies>true</CopyLocalLockFileAssemblies>
     <NoWarn>$(NoWarn),CA2007</NoWarn>
+    <AppendTargetFrameworkToOutputPath Condition="'$(TargetFramework)'=='net5.0'">true</AppendTargetFrameworkToOutputPath>
   </PropertyGroup>
 
   <ItemGroup>
diff --git a/src/mono/wasm/debugger/BrowserDebugProxy/BrowserDebugProxy.csproj b/src/mono/wasm/debugger/BrowserDebugProxy/BrowserDebugProxy.csproj
index 0c3b96764cc..99e0a51f026 100644
--- a/src/mono/wasm/debugger/BrowserDebugProxy/BrowserDebugProxy.csproj
+++ b/src/mono/wasm/debugger/BrowserDebugProxy/BrowserDebugProxy.csproj
@@ -1,8 +1,9 @@
 ﻿<Project Sdk="Microsoft.NET.Sdk">
 
   <PropertyGroup>
-    <TargetFramework>$(AspNetCoreAppCurrent)</TargetFramework>
+    <TargetFrameworks>$(AspNetCoreAppCurrent);net5.0</TargetFrameworks>
     <NoWarn>$(NoWarn),CA2007</NoWarn>
+    <AppendTargetFrameworkToOutputPath Condition="'$(TargetFramework)'=='net5.0'">true</AppendTargetFrameworkToOutputPath>
   </PropertyGroup>
 
   <ItemGroup>
-- 
2.17.1

